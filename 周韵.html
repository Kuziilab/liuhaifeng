<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>To: Âë®Èüµ</title>
    <style>
        /* --- ÂÖ®Â±ÄÊ†∑Âºè --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background-color: #000;
            overflow: hidden; /* Á¶ÅÊ≠¢ÊªöÂä® */
            height: 100vh;
            width: 100vw;
            position: relative;
        }

        /* --- Âú∫ÊôØ1ÔºöÂØÜÁ†ÅÁôªÂΩï --- */
        #scene-login {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            /* ÁîúÁæéÁ≤âËâ≤Ê∏êÂèòËÉåÊôØ */
            background: linear-gradient(135deg, #ffe6eb 0%, #ffc0cb 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 30;
            transition: opacity 1s ease;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 25px;
            width: 80%;
            max-width: 320px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.3);
            border: 3px solid #fff;
        }

        .avatar {
            font-size: 50px;
            margin-bottom: 10px;
        }

        h2 {
            color: #ff69b4;
            margin-bottom: 20px;
            font-weight: bold;
        }

        input {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 2px solid #ffb7c5;
            border-radius: 10px;
            text-align: center;
            font-size: 18px;
            outline: none;
            color: #ff69b4;
        }

        .btns { display: flex; gap: 10px; }
        
        button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
        }
        .btn-ok { background: #ff69b4; color: white; }
        .btn-cancel { background: #f0f0f0; color: #888; }

        /* --- Âú∫ÊôØ2ÔºöÊ∞îÊ≥°ÂºπÁ™ó --- */
        #scene-bubbles {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, #ffeff2, #ffd1dc);
            display: none;
            z-index: 20;
            overflow: hidden;
        }

        .bubble {
            position: absolute;
            background: linear-gradient(45deg, #fff 0%, #fff0f5 100%);
            color: #d6336c;
            padding: 10px 15px;
            border-radius: 15px;
            border-bottom-left-radius: 2px;
            font-size: 13px;
            font-weight: bold;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #ffb7c5;
            max-width: 220px;
            opacity: 0;
            transform: scale(0);
            animation: popUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .bubble::after {
            content: 'üå∏'; 
            position: absolute;
            right: -5px; top: -10px;
            font-size: 14px;
        }

        @keyframes popUp {
            to { opacity: 1; transform: scale(1); }
        }

        /* --- Âú∫ÊôØ3ÔºöÁ≤íÂ≠êËÅöÁÑ¶ --- */
        #scene-particles {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000;
            display: none;
            z-index: 10;
        }
        
        canvas { display: block; }
        
        /* Èü≥‰πêÊåâÈíÆ */
        #music-btn {
            position: fixed;
            top: 20px; right: 20px;
            z-index: 100;
            font-size: 24px;
            opacity: 0.5;
            display: none;
            cursor: pointer;
            animation: rotate 3s linear infinite;
        }
        @keyframes rotate { from{transform: rotate(0deg);} to{transform: rotate(360deg);} }

    </style>
</head>
<body>

    <!-- 
        Ê†∏ÂøÉ‰øÆÊîπÔºö‰ΩøÁî®ÁΩëÁªúÈü≥‰πêÈìæÊé• 
        ËøôÈáå‰ΩøÁî®ÁöÑÊòØÁΩëÊòì‰∫ëÈü≥‰πêÁöÑÂ§ñÈìæÔºåÂ¶ÇÊûúÂ§±ÊïàÂèØ‰ª•Êåâ‰∏ãÈù¢ÁöÑÊïôÁ®ãÊõøÊç¢
    -->
    <audio id="bgm" loop>
        <!-- ‰∏ãÈù¢Ëøô‰∏™ src Â∞±ÊòØÈü≥‰πêÈìæÊé•Ôºå‰Ω†ÂèØ‰ª•Êç¢ÊàêÂÖ∂‰ªñÁöÑ mp3 ÁΩëÂùÄ -->
        <source src="https://music.163.com/song/media/outer/url?id=480353.mp3" type="audio/mpeg">
    </audio>
    
    <div id="music-btn" onclick="toggleMusic()">üéµ</div>

    <!-- Âú∫ÊôØ1 -->
    <div id="scene-login">
        <div class="login-card">
            <div class="avatar">üê±</div>
            <h2>Âë®Èüµ</h2>
            <input type="password" id="passcode" placeholder="ËØ∑ËæìÂÖ•‰∏™‰∫∫ÂØÜÁ†Å">
            <div class="btns">
                <button class="btn-cancel" onclick="alert('Ê≤°ÊúâÂèñÊ∂àÈÄâÈ°πÔºåÂøÖÈ°ª‰∏äÂ≤∏ÔºÅ')">ÂèñÊ∂à</button>
                <button class="btn-ok" onclick="checkLogin()">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>

    <!-- Âú∫ÊôØ2 -->
    <div id="scene-bubbles"></div>

    <!-- Âú∫ÊôØ3 -->
    <div id="scene-particles">
        <canvas id="pCanvas"></canvas>
    </div>

    <script>
        // ============ ÈÖçÁΩÆÂå∫ ============
        const CONFIG = {
            password: "0414",
            bubbleDelay: 400,
            sceneWait: 3000
        };

        const MESSAGES = [
            // --- Part 1: ÂçÅ‰∫åÊúà & ÂèØÁà± & Hello Kitty ---
            "Âë®ÈüµÔºåÂçÅ‰∫åÊúàÂø´‰πêÔºÅ‚ú®", "Hello KittyËØ¥‰Ω†‰ªäÂ§©Ë∂ÖÁæé", "ÂçÅ‰∫åÊúàÊù•ÁªôÂë®ÈüµÈÄÅÁ§ºÁâ©Âï¶üéÅ", 
            "ÊÑø‰Ω†ÊØèÂ§©ÈÉΩÂèØÂèØÁà±Áà±", "ÂÜ¨Â§©Ë¶ÅÂ§öÂñùÁÉ≠Â•∂Ëå∂‚òï", "Âë®ÈüµÊòØ‰∏ñÁïåÁ¨¨‰∏ÄÂ§ßÁæéÂ•≥üê±", 
            "ÊääÊòüÊòüÊëò‰∏ãÊù•ÈÄÅÁªô‰Ω†‚≠ê", "ÊâÄÊúâÁöÑÈúâËøêÈÉΩËµ∞ÂºÄÔºÅ", "Âë®ÈüµÔºåÂπ≥ÂÆâÂñú‰πêüçé", 
            "ÂèÆÂèÆÂΩìÔºåÈìÉÂÑøÂìçÂèÆÂΩìüîî", "Á≤âËâ≤ÁöÑÂ•ΩËøêÊ≠£Âú®Ê¥æÈÄÅ‰∏≠...", "ËÆ∞ÂæóË¶ÅÊó©ÁÇπÁù°ËßâÂì¶üí§", 
            "Âë®ÈüµÔºå‰Ω†ÊòØÊúÄÊ£íÁöÑÔºÅüíñ", "‰∏ãÈõ™ÁöÑÊó∂ÂÄôÂéªÁúãÁúãÊää‚ùÑÔ∏è", "Êã•ÊúâHello KittyÂêåÊ¨æÂºÄÂøÉ", 
            "Êî∂‰∏ãËøôÈ¢óÁà±ÂøÉüíó", "Âë®ÈüµË¶Å‰∏ÄÁõ¥ÂºÄÂºÄÂøÉÂøÉ", "‰ªäÂ§©ÁöÑÂπ∏ËøêËâ≤ÊòØÁ≤âËâ≤üéÄ", 
            "ÊÑøÊúõÊ∏ÖÂçïÂÖ®ÈÉ®ÂÆûÁé∞‚úÖ", "‰Ω†ÊòØÂçÅ‰∫åÊúàÁöÑÂ∞èÁ°ÆÂπ∏", "Âë®ÈüµÊù•Êã•Êä±‰∏Ä‰∏ãÂêßüß∏", 
            "Â•ΩËøê+1 +1 +1 üçÄ", "Âë®ÈüµÁöÑÁ¨ëÂÆπÊúÄÊ≤ªÊÑà", "Merry ChristmasüéÑ", 
            "ÁîüÊ¥ªÊòéÊúóÔºå‰∏áÁâ©ÂèØÁà±", "Âë®ÈüµÔºåË¶ÅÁÖßÈ°æÂ•ΩËá™Â∑±üß£", "Âíå‰Ω†ÂàÜ‰∫´Á¨¨‰∏ÄÂè£ËõãÁ≥ïüç∞", 
            "ÊâÄÊúâÁöÑÁæéÂ•ΩÂ¶ÇÊúüËÄåËá≥", "Âë®ÈüµÔºåÊñ∞Âπ¥‰πüË¶ÅÂø´‰πêüéâ", "ÂÅöËá™Â∑±ÁöÑÂ∞èÂÖ¨‰∏ªüëë",
            
            // --- Part 2: ËÄÉÁ†î & Âé¶Â§ß & ÂâçÈÄî ---
            "‚ú® ‰∏ÄÁ†î‰∏∫ÂÆöÔºåÂÆö‰∏∫Á†î‰∏ÄÔºÅ", "ÁõÆÊ†áÔºöÂé¶Èó®Â§ßÂ≠¶ÔºÅüåä", "ÂáÜÁ†îÁ©∂ÁîüÂë®ÈüµÔºå‰Ω†Â•ΩÂëÄ",
            "ÂÖ≥ÂÖ≥ÈöæËøáÂÖ≥ÂÖ≥ËøáÔºåÂâçË∑ØÊº´Êº´‰∫¶ÁÅøÁÅø", "ÁÜ¨ËøáÁöÑÂ§úÔºåÈÉΩ‰ºöÂèòÊàêÂÖâ‚ú®", 
            "ÊòéÂπ¥‰πùÊúàÔºåÂé¶Â§ßÂá§Âá∞Ëä±‰∏∫‰Ω†ÂºÄüå∫", "Á¨îÂ∞ñÁîüËä±ÔºåÈáëÊ¶úÈ¢òÂêçÔºÅ", 
            "‰πæÂù§Êú™ÂÆöÔºåÂë®Èüµ‰Ω†Â∞±ÊòØÈªëÈ©¨", "ÊòüÂÖâ‰∏çÈóÆËµ∂Ë∑Ø‰∫∫", "ÊÑø‰Ω†Âêà‰∏äÁ¨îÁõñÁöÑÈÇ£‰∏ÄÂàªÔºåÊúâ‰æ†ÂÆ¢Êî∂ÂâëÁöÑÈ™ÑÂÇ≤",
            "Âé¶Â§ßÂú®Á≠â‰Ω†ÔºåÊú™Êù•Âú®Á≠â‰Ω†", "ËÄÉÁ†îÂøÖËÉúÔºÅÂ≤∏‰∏äËßÅÔºÅ‚úåÔ∏è", "ÂâçÈÄî‰ººÊµ∑ÔºåÊù•Êó•ÊñπÈïø",
            "ÊâÄÊúâÁöÑÂä™ÂäõÈÉΩ‰∏ç‰ºöË¢´ËæúË¥ü", "ÊúÄÂêéËøôÂá†Â§©ÔºåÁ®≥‰ΩèËÉΩËµ¢ÔºÅ", "Âë®ÈüµÔºå‰Ω†‰∏ÄÂÆöÂèØ‰ª•ÁöÑÔºÅüí™",
            "ÂéªÊõ¥È´òÁöÑÂú∞ÊñπÁúãÈ£éÊôØ", "ÊÑøÁªìÊûúÈÖçÂæó‰∏ä‰Ω†ÊâÄÊúâÁöÑÈ¢†Ê≤õÊµÅÁ¶ª", 
            "ÊàêÂäü‰∏äÂ≤∏ÔºåÂâçÁ®ã‰ººÈî¶üåà", "Êàë‰ª¨Âé¶Â§ßËßÅÔºÅüéì"
        ];

        // ============ ÈÄªËæëÊéßÂà∂ ============

        function checkLogin() {
            const val = document.getElementById('passcode').value;
            if (val === CONFIG.password) {
                // Êí≠ÊîæÁΩëÁªúÈü≥‰πê
                const audio = document.getElementById('bgm');
                audio.play().catch(error => {
                    console.log("Ëá™Âä®Êí≠ÊîæÂèØËÉΩË¢´Êã¶Êà™");
                });
                document.getElementById('music-btn').style.display = 'block';

                // ËΩ¨Âú∫
                const loginLayer = document.getElementById('scene-login');
                loginLayer.style.opacity = 0;
                setTimeout(() => {
                    loginLayer.style.display = 'none';
                    startBubbles();
                }, 800);
            } else {
                alert("ÂØÜÁ†Å‰∏çÂØπÂì¶~ ÊòØÁîüÊó•ÂêóÔºü");
                document.getElementById('passcode').value = "";
            }
        }
        
        // Èü≥‰πêÊéßÂà∂
        let isPlaying = true;
        function toggleMusic() {
            const audio = document.getElementById('bgm');
            const btn = document.getElementById('music-btn');
            if (isPlaying) {
                audio.pause();
                btn.style.animation = 'none';
                btn.style.opacity = '0.3';
            } else {
                audio.play();
                btn.style.animation = 'rotate 3s linear infinite';
                btn.style.opacity = '0.5';
            }
            isPlaying = !isPlaying;
        }

        // 2. Ê∞îÊ≥°ÂºπÁ™óÈÄªËæë
        function startBubbles() {
            const container = document.getElementById('scene-bubbles');
            container.style.display = 'block';

            let count = 0;
            const total = MESSAGES.length;

            MESSAGES.forEach((msg, i) => {
                setTimeout(() => {
                    createBubble(container, msg);
                    count++;
                    if(count === total) {
                        setTimeout(startParticles, CONFIG.sceneWait);
                    }
                }, i * CONFIG.bubbleDelay);
            });
        }

        function createBubble(parent, text) {
            const b = document.createElement('div');
            b.className = 'bubble';
            b.innerText = text;

            const w = window.innerWidth;
            const h = window.innerHeight;
            const maxLeft = w - 160; 
            const maxTop = h - 80;
            const left = Math.random() * maxLeft + 20;
            const top = Math.random() * maxTop + 50;

            b.style.left = left + 'px';
            b.style.top = top + 'px';
            b.style.zIndex = 100 + count; 
            const hue = 330 + Math.random() * 20; 
            b.style.background = `linear-gradient(135deg, hsl(${hue}, 100%, 97%) 0%, #fff 100%)`;
            parent.appendChild(b);
        }
        
        let count = 0;

        // 3. Á≤íÂ≠êÁâπÊïàÈÄªËæë
        function startParticles() {
            const bLayer = document.getElementById('scene-bubbles');
            bLayer.style.transition = 'opacity 2s';
            bLayer.style.opacity = 0;
            setTimeout(() => {
                bLayer.style.display = 'none';
                document.getElementById('scene-particles').style.display = 'block';
                initCanvas();
            }, 2000);
        }

        function initCanvas() {
            const canvas = document.getElementById('pCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            let particles = [];
            const fontSize1 = Math.min(window.innerWidth / 4, 100); 
            const fontSize2 = Math.min(window.innerWidth / 10, 50);

            class Particle {
                constructor(targetX, targetY) {
                    this.tx = targetX;
                    this.ty = targetY;
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.vx = 0; this.vy = 0;
                    const colors = ['#ff69b4', '#ff1493', '#00bfff', '#ffd700', '#ffffff'];
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.friction = 0.93; 
                    this.ease = Math.random() * 0.05 + 0.02; 
                }
                update() {
                    const dx = this.tx - this.x;
                    const dy = this.ty - this.y;
                    this.vx += dx * this.ease; this.vy += dy * this.ease;
                    this.vx *= this.friction; this.vy *= this.friction;
                    this.x += this.vx; this.y += this.vy;
                }
                draw() {
                    ctx.fillStyle = this.color;
                    ctx.fillRect(this.x, this.y, 2, 2); 
                }
            }

            function getTextCoordinates() {
                const tmpC = document.createElement('canvas');
                tmpC.width = canvas.width;
                tmpC.height = canvas.height;
                const tCtx = tmpC.getContext('2d');
                tCtx.textAlign = 'center'; tCtx.textBaseline = 'middle';
                tCtx.fillStyle = 'white';
                
                tCtx.font = `bold ${fontSize1}px "Microsoft YaHei"`;
                tCtx.fillText('Âë®Èüµ', canvas.width/2, canvas.height/2 - 40);
                
                tCtx.font = `bold ${fontSize2}px Arial`;
                tCtx.fillText('happy everyday', canvas.width/2, canvas.height/2 + 60);

                const idata = tCtx.getImageData(0, 0, canvas.width, canvas.height);
                const data = idata.data;
                const step = 3; 
                for (let y = 0; y < canvas.height; y += step) {
                    for (let x = 0; x < canvas.width; x += step) {
                        const idx = (y * canvas.width + x) * 4;
                        if (data[idx + 3] > 128) { particles.push(new Particle(x, y)); }
                    }
                }
            }
            getTextCoordinates();
            function animate() {
                ctx.fillStyle = 'rgba(0,0,0,0.2)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => { p.update(); p.draw(); });
                requestAnimationFrame(animate);
            }
            animate();
        }
    </script>
</body>
</html>
